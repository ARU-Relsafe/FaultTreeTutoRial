<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Tutorial: FaultTree Package</title>
  <meta name="description" content="Tutorial for the FaultTree package from www.openreliability.org">
  <meta name="generator" content="bookdown 0.3.8 and GitBook 2.6.7">

  <meta property="og:title" content="Tutorial: FaultTree Package" />
  <meta property="og:type" content="book" />
  
  <meta property="og:image" content="www/cover.jpg" />
  <meta property="og:description" content="Tutorial for the FaultTree package from www.openreliability.org" />
  <meta name="github-repo" content="CarlesCG/FaulttReeTutoRial" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Tutorial: FaultTree Package" />
  
  <meta name="twitter:description" content="Tutorial for the FaultTree package from www.openreliability.org" />
  <meta name="twitter:image" content="www/cover.jpg" />

<meta name="author" content="David J. Silkworth">



  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="latent-events.html">


<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">FaultTree Tutorial</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome To FaultTree Tutorial</a></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="intro.html"><a href="intro.html#getting-started-with-faulttree-on-r"><i class="fa fa-check"></i><b>1.1</b> Getting started with FaultTree on R</a></li>
<li class="chapter" data-level="1.2" data-path="intro.html"><a href="intro.html#load-faultree-package"><i class="fa fa-check"></i><b>1.2</b> Load FaulTree package</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="basics.html"><a href="basics.html"><i class="fa fa-check"></i><b>2</b> Fault Tree Basics</a></li>
<li class="chapter" data-level="3" data-path="non-repairable.html"><a href="non-repairable.html"><i class="fa fa-check"></i><b>3</b> Non-Repairable System Models</a></li>
<li class="chapter" data-level="4" data-path="cut-set.html"><a href="cut-set.html"><i class="fa fa-check"></i><b>4</b> Cut Set Analysis</a></li>
<li class="chapter" data-level="5" data-path="repairable.html"><a href="repairable.html"><i class="fa fa-check"></i><b>5</b> Repairable System Models</a></li>
<li class="chapter" data-level="6" data-path="latent-events.html"><a href="latent-events.html"><i class="fa fa-check"></i><b>6</b> Latent Component Events</a><ul>
<li class="chapter" data-level="6.1" data-path="latent-events.html"><a href="latent-events.html#using-the-r-environment-to-alter-inspection-intervals"><i class="fa fa-check"></i><b>6.1</b> Using the R Environment to Alter Inspection Intervals</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="conditional-sequence.html"><a href="conditional-sequence.html"><i class="fa fa-check"></i><b>7</b> Conditional Sequence</a></li>
<li class="divider"></li>
<li><a href="http://www.openreliability.org" target="blank">Openreliability.org</a></li>
<li><a href="https://bookdown.org" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Tutorial: FaultTree Package</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="conditional-sequence" class="section level1">
<h1><span class="header-section-number">Chapter 7</span> Conditional Sequence</h1>
<p>Thus far examples have demonstrated the use of OR, AND and INHIBIT gates. In the non-repairable model there is no difference between the AND and INHIBIT calculations. Both combine feeding probabilities by multiplication. The only difference is that the INHIBIT clarifies which feed is considered a condition. Now with the repairable model it can be observed that the INHIBIT essentially strips the conditional feed of all information but its probability parameter representing percent of time. As such the INHIBIT can model a sequential nature for certain conditions, typically protective, followed by a catastrophic hazard event. Yet, in some combinations the possible reversibility of the condition is an important consideration. The PRIORITY gate (referenced often as Priority AND) provides a conditional sequence logic appropriately handling a wider variety of combinations than the INHIBIT.</p>
<p>Consider the independent failure of active pumps similar to those modeled as the Repairable System Model was introduced.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">actAND&lt;-<span class="kw">ftree.make</span>(<span class="dt">type=</span><span class="st">&quot;and&quot;</span>, <span class="dt">name=</span><span class="st">&quot;Independent Failure&quot;</span>, <span class="dt">name2=</span><span class="st">&quot;of Active Pumps&quot;</span>)
actAND&lt;-<span class="kw">addActive</span>(actAND, <span class="dt">at=</span><span class="dv">1</span>, <span class="dt">mttf=</span><span class="dv">3</span>, <span class="dt">mttr=</span><span class="dv">12</span>/<span class="dv">8760</span>, <span class="dt">name=</span><span class="st">&quot;Pump 1&quot;</span>)
actAND&lt;-<span class="kw">addActive</span>(actAND, <span class="dt">at=</span><span class="dv">1</span>, <span class="dt">mttf=</span><span class="dv">3</span>, <span class="dt">mttr=</span><span class="dv">12</span>/<span class="dv">8760</span>, <span class="dt">name=</span><span class="st">&quot;Pump 2&quot;</span>)
actAND&lt;-<span class="kw">ftree.calc</span>(actAND)
actAND[<span class="dv">1</span>,<span class="dv">6</span>:<span class="dv">8</span>]</code></pre></div>
<pre><code>##            CFR          PBF          CRT
## 1 0.0003041362 2.083125e-07 0.0006849315</code></pre>
<p>The selected range output reveals the quantification of just the top event. Then a line is added to display the repair time for the conditional event with a conversion from years to hours.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">actAND</code></pre></div>
<pre><code>##   ID GParent CParent Level Type          CFR          PBF          CRT MOE
## 1  1      -1      -1     1   11 0.0003041362 2.083125e-07 0.0006849315   0
## 2  2       1       1     2    1 0.3333333333 4.564126e-04 0.0013698630   0
## 3  3       1       1     2    1 0.3333333333 4.564126e-04 0.0013698630   0
##   PHF_PZ Condition Cond_Code Interval Tag_Obj                Name
## 1     -1         0         0       -1         Independent Failure
## 2     -1         0         0       -1                      Pump 1
## 3     -1         0         0       -1                      Pump 2
##             Name2 Description Unused1 Unused2
## 1 of Active Pumps                            
## 2                                            
## 3</code></pre>
<p>From this simple model it is observed that the repair time for dual pump failure is half the mttr input for single pump recovery. This is the mean of a saw-toothed distribution generated by a convolution of the pump downtime events. A second pump fails randomly within the 12 hour repair time of an initial pump failure. The event ends when the first pump to fail is repaired. It can be thought of that statistically the second pump fails mid-way into the failure of the first.</p>
<p>Now a tree if formed by placing the same pumps under an INHIBIT gate.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">actPRIORITY&lt;-<span class="kw">ftree.make</span>(<span class="dt">type=</span><span class="st">&quot;priority&quot;</span>, <span class="dt">reversible_cond=</span><span class="ot">TRUE</span>, <span class="dt">name=</span><span class="st">&quot;Conditional Sequence&quot;</span>, <span class="dt">name2=</span><span class="st">&quot;of Repairable Pumps&quot;</span>)
actPRIORITY&lt;-<span class="kw">addActive</span>(actPRIORITY, <span class="dt">at=</span><span class="dv">1</span>, <span class="dt">mttf=</span><span class="dv">3</span>, <span class="dt">mttr=</span><span class="dv">12</span>/<span class="dv">8760</span>, <span class="dt">name=</span><span class="st">&quot;Pump 1&quot;</span>)
actPRIORITY&lt;-<span class="kw">addActive</span>(actPRIORITY, <span class="dt">at=</span><span class="dv">1</span>, <span class="dt">mttf=</span><span class="dv">3</span>, <span class="dt">mttr=</span><span class="dv">12</span>/<span class="dv">8760</span>, <span class="dt">name=</span><span class="st">&quot;Pump 2&quot;</span>)
actPRIORITY&lt;-<span class="kw">ftree.calc</span>(actPRIORITY)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">actPRIORITY [<span class="dv">1</span>,<span class="dv">6</span>:<span class="dv">8</span>]</code></pre></div>
<pre><code>##            CFR          PBF          CRT
## 1 0.0001521375 1.042038e-07 0.0006849315</code></pre>
<p>A physical analogy to this calculation would be a primary Pump 1 with a secondary stand-by backup Pump 2. Dual pump failure only occurs when the backup pump fails within the repair window of the primary. However, the event ends upon repair of the primary pump. Presumably then Pump 2 is returned to stand-by service once repaired. The distinction in the gate is made possible due to information on the repair time for the event presented as a condition. Again there is a convolution of the pump downtime events. However, dual pump failure requires a specific sequence beginning with failure of the primary pump.</p>
<p>Systems with latency are more likely to generate conditions for propagation of unwanted events since the hidden nature of latent faults awaits compounding with some hazard event. When a condition is not effectively reversible once encountering a critical hazard the PRIORITY calculation is similar to the INHIBIT .</p>
<p>Consider a fictitious pressurized system with pressure controlled feed and pressure controlled venting as the only protection against overpressure.</p>
<center>
<img src="www/07-conditional1.jpg" />
</center>
<p>The following table summarizes the input parameters: <img src="www/07-input_table2.jpg" /></p>
<div class="rmdnote">
<p>
For the next FaultTree model scripts the magrittr (mag-rit-tay) package will be used. Since this is an established package on the CRAN repository installation is rather straight forward. I would usually close any open R consoles in order to avoid any confusion. Then open one, as administrator, to execute menu selections Packages -&gt; Install package(s). . . select the first mirror, then scroll down to <code>magrittr</code>. As with any package to use it in a session the library must be loaded. So, commands for library(magrittr) as well as library(FaultTree) will be required in any new R session.
</p>
<p>
The magrittr package provides a short hand notation for passing the developing FaultTree object to successive script lines. The example code demonstrates this use. Note the definition of a new <code>%&gt;%</code> operator permits successive representation of the object as a dot for the first argument in the function call following the <code>%&gt;%</code> operator.
</p>
</div>
<p>A simple fault tree is now generated for Surge Tank Overpressure Failure.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(FaultTree)
<span class="kw">library</span>(magrittr)
 
surgePRIORITY&lt;-<span class="kw">ftree.make</span>(<span class="dt">type=</span><span class="st">&quot;priority&quot;</span>, <span class="dt">name=</span><span class="st">&quot;Surge Tank&quot;</span>, <span class="dt">name2=</span><span class="st">&quot;Overpressure Failure&quot;</span>)
surgePRIORITY&lt;-surgePRIORITY %&gt;%
<span class="kw">addLogic</span>(., <span class="dt">at=</span><span class="dv">1</span>, <span class="dt">type=</span><span class="st">&quot;or&quot;</span>, <span class="dt">name=</span><span class="st">&quot;Vent Control&quot;</span>, <span class="dt">name2=</span><span class="st">&quot;Fails Closed&quot;</span>) %&gt;%
<span class="kw">addLogic</span>(., <span class="dt">at=</span><span class="dv">1</span>, <span class="dt">type=</span><span class="st">&quot;or&quot;</span>, <span class="dt">name=</span><span class="st">&quot;Supply Control&quot;</span>, <span class="dt">name2=</span><span class="st">&quot;Fails Open&quot;</span>) %&gt;%
<span class="kw">addLatent</span>(., <span class="dt">at=</span><span class="dv">2</span>, <span class="dt">mttf=</span><span class="dv">25</span>, <span class="dt">mttr=</span><span class="dv">8</span>/<span class="dv">8760</span>, <span class="dt">pzero=</span><span class="st">&quot;repair&quot;</span>, <span class="dt">inspect=</span><span class="dv">1</span>, <span class="dt">name=</span><span class="st">&quot;PV2&quot;</span>, <span class="dt">name2=</span><span class="st">&quot;Fails Closed&quot;</span>) %&gt;%
<span class="kw">addLatent</span>(., <span class="dt">at=</span><span class="dv">2</span>, <span class="dt">mttf=</span><span class="dv">100</span>, <span class="dt">mttr=</span><span class="dv">8</span>/<span class="dv">8760</span>, <span class="dt">pzero=</span><span class="st">&quot;repair&quot;</span>, <span class="dt">inspect=</span><span class="dv">1</span>,
<span class="dt">name=</span><span class="st">&quot;PC2 Forces&quot;</span>, <span class="dt">name2=</span><span class="st">&quot;PV2 Closed&quot;</span>) %&gt;%
<span class="kw">addLatent</span>(., <span class="dt">at=</span><span class="dv">2</span>, <span class="dt">mttf=</span><span class="dv">100</span>, <span class="dt">mttr=</span><span class="dv">8</span>/<span class="dv">8760</span>, <span class="dt">pzero=</span><span class="st">&quot;repair&quot;</span>, <span class="dt">inspect=</span><span class="dv">1</span>,
<span class="dt">name=</span><span class="st">&quot;PT2&quot;</span>, <span class="dt">name2=</span><span class="st">&quot;Fails Low&quot;</span>) %&gt;%
<span class="kw">addActive</span>(., <span class="dt">at=</span><span class="dv">3</span>, <span class="dt">mttf=</span><span class="dv">25</span>, <span class="dt">mttr=</span><span class="dv">8</span>/<span class="dv">8760</span>, <span class="dt">name=</span><span class="st">&quot;PV1&quot;</span>, <span class="dt">name2=</span><span class="st">&quot;Fails Open&quot;</span>) %&gt;%
<span class="kw">addActive</span> (., <span class="dt">at=</span><span class="dv">3</span>, <span class="dt">mttf=</span><span class="dv">100</span>, <span class="dt">mttr=</span><span class="dv">8</span>/<span class="dv">8760</span>, <span class="dt">name=</span><span class="st">&quot;PC1 Forces&quot;</span>, <span class="dt">name2=</span><span class="st">&quot;PV1 Open&quot;</span>) %&gt;%
<span class="kw">addActive</span> (., <span class="dt">at=</span><span class="dv">3</span>, <span class="dt">mttf=</span><span class="dv">100</span>, <span class="dt">mttr=</span><span class="dv">8</span>/<span class="dv">8760</span>, <span class="dt">name=</span><span class="st">&quot;PT1&quot;</span>, <span class="dt">name2=</span><span class="st">&quot;Fails Low&quot;</span>) %&gt;%
<span class="kw">ftree.calc</span>(.)
 
<span class="kw">ftree2html</span>(surgePRIORITY, <span class="dt">write_file=</span><span class="ot">TRUE</span>)</code></pre></div>
<pre><code>##   ID Parent Type          CFR           PBF           CRT Cond
## 1  1     -1   14  0.001772091 -1.000000e+00 -1.0000000000    0
## 2  2      1   10 -1.000000000  2.953486e-02 -1.0000000000    1
## 3  3      1   10  0.060000000  5.479227e-05  0.0009132545    0
## 4  4      2    2  0.040000000  1.977179e-02  0.0009132420    0
## 5  5      2    2  0.010000000  4.992462e-03  0.0009132420    0
## 6  6      2    2  0.010000000  4.992462e-03  0.0009132420    0
## 7  7      3    1  0.040000000  3.652835e-05  0.0009132420    0
## 8  8      3    1  0.010000000  9.132337e-06  0.0009132420    0
## 9  9      3    1  0.010000000  9.132337e-06  0.0009132420    0
##             Name                Name2
## 1     Surge Tank Overpressure Failure
## 2   Vent Control         Fails Closed
## 3 Supply Control           Fails Open
## 4            PV2         Fails Closed
## 5     PC2 Forces           PV2 Closed
## 6            PT2            Fails Low
## 7            PV1           Fails Open
## 8     PC1 Forces             PV1 Open
## 9            PT1            Fails Low</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">browseURL</span>(<span class="st">&quot;surgePRIORITY.html&quot;</span>)</code></pre></div>
<div class="rmdcaution">
<p>
This script has rendered poorly in the code block, but it should copy and paste successfully. It is now expected that either text files as discussed in Fault Tree Basics or spreadsheet as discussed in the (pending) Appendix are being used by the reader to hold these developing scripts.
</p>
</div>
<p>Now the same tree can be re-created using an inhibit gate for the top event. Only the first two lines of the script ( after the library calls) need to be changed since the magrittr pipeline is used. The browseURL function cannot utilize the pipeline, so a graphical view has to be generated separately.</p>
<p>The four lines of code to include in the new script are:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">surgeINHIBIT&lt;-<span class="kw">ftree.make</span>(<span class="dt">type=</span><span class="st">&quot;inhibit&quot;</span>, <span class="dt">name=</span><span class="st">&quot;Surge Tank&quot;</span>, <span class="dt">name2=</span><span class="st">&quot;Overpressure Failure&quot;</span>) 
<span class="co"># surgeINHIBIT&lt;-surgeINHIBIT %&gt;%</span>
 
<span class="kw">ftree2html</span>(surgeINHIBIT, <span class="dt">write_file=</span><span class="ot">TRUE</span>)
<span class="kw">browseURL</span>(<span class="st">&quot;surgeINHIBIT.html&quot;</span>)</code></pre></div>
Since the point of interest here is the difference between the two top gates a photoshoped image of these two collapsed trees is presented in one frame.
<center>
<img src="www/07-PriorityVSinhibit.jpg" />
</center>
<p>Both top gates receive the same information from the feeding OR gates. The condition only passes a probability value. In the case of the PRIORITY gate this is because the default of reversible_cond = FALSE has been set. If the result of vent failure leads to vessel rupture, it makes no sense to pass on vent system repair information. Further, this irreversible PRIORITY gate has resolved its resulting event to be a pure demand with an output containing a fail rate result only.</p>
<p>The INHIBIT gate simply applies the conditional percent of time on both Fail Rate and Probability of the combining event. All inhibited information from the combined event is passed upward even if it is irrelevant for the model under consideration. However, there is no difference in the final Fail Rate calculated output.</p>
<p>To make this example more realistic, and ASME code compliant, a pressure relief valve is added to the surge tank. This adds a valuable redundancy to over-pressure relief venting as expected. It also renders the failure condition of the vent controller to be reversible.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">surge3&lt;-<span class="kw">ftree.make</span>(<span class="dt">type=</span><span class="st">&quot;priority&quot;</span>, <span class="dt">name=</span><span class="st">&quot;Surge Tank&quot;</span>, <span class="dt">name2=</span><span class="st">&quot;Overpressure Failure&quot;</span>)
surge3&lt;-surge3 %&gt;%
<span class="kw">addLogic</span>(., <span class="dt">at=</span><span class="dv">1</span>, <span class="dt">type=</span><span class="st">&quot;or&quot;</span>,
<span class="dt">name=</span><span class="st">&quot;Pressure Relief Fails&quot;</span>, <span class="dt">name2=</span><span class="st">&quot;to Open at Design Pt&quot;</span>) %&gt;%
<span class="kw">addLatent</span> (., <span class="dt">at=</span><span class="dv">2</span>, <span class="dt">mttf=</span><span class="dv">300</span>, <span class="dt">pzero=</span><span class="dv">0</span>, <span class="dt">inspect=</span><span class="dv">3</span>,
<span class="dt">name=</span><span class="st">&quot;Pressure Relief&quot;</span>, <span class="dt">name2=</span><span class="st">&quot;set too high&quot;</span>) %&gt;%
<span class="kw">addLatent</span>(., <span class="dt">at=</span><span class="dv">2</span>, <span class="dt">mttf=</span><span class="dv">300</span>, <span class="dt">pzero=</span><span class="dv">0</span>, <span class="dt">inspect=</span><span class="dv">3</span>,
<span class="dt">name=</span><span class="st">&quot;Pressure Relief Unable&quot;</span>, <span class="dt">name2=</span><span class="st">&quot;to Open at Design Pt&quot;</span>) %&gt;%
<span class="kw">addLogic</span>(., <span class="dt">at=</span><span class="dv">1</span>, <span class="dt">type=</span><span class="st">&quot;priority&quot;</span>, <span class="dt">reversible_cond=</span><span class="ot">TRUE</span>,
<span class="dt">name=</span><span class="st">&quot;Vent Control Failed&quot;</span>, <span class="dt">name2=</span><span class="st">&quot;On Overpressure&quot;</span>) %&gt;%
<span class="kw">addLogic</span>(., <span class="dt">at=</span><span class="dv">5</span>, <span class="dt">type=</span><span class="st">&quot;or&quot;</span>, <span class="dt">name=</span><span class="st">&quot;Vent Control&quot;</span>, <span class="dt">name2=</span><span class="st">&quot;Fails Closed&quot;</span>) %&gt;%
<span class="kw">addLogic</span>(., <span class="dt">at=</span><span class="dv">5</span>, <span class="dt">type=</span><span class="st">&quot;or&quot;</span>, <span class="dt">name=</span><span class="st">&quot;Supply Control&quot;</span>, <span class="dt">name2=</span><span class="st">&quot;Fails Open&quot;</span>) %&gt;%
<span class="kw">addLatent</span>(., <span class="dt">at=</span><span class="dv">6</span>, <span class="dt">mttf=</span><span class="dv">25</span>, <span class="dt">mttr=</span><span class="dv">8</span>/<span class="dv">8760</span>, <span class="dt">pzero=</span><span class="st">&quot;repair&quot;</span>, <span class="dt">inspect=</span><span class="dv">1</span>, <span class="dt">name=</span><span class="st">&quot;PV2&quot;</span>, <span class="dt">name2=</span><span class="st">&quot;Fails Closed&quot;</span>) %&gt;%
<span class="kw">addLatent</span>(., <span class="dt">at=</span><span class="dv">6</span>, <span class="dt">mttf=</span><span class="dv">100</span>, <span class="dt">mttr=</span><span class="dv">8</span>/<span class="dv">8760</span>, <span class="dt">pzero=</span><span class="st">&quot;repair&quot;</span>, <span class="dt">inspect=</span><span class="dv">1</span>,
<span class="dt">name=</span><span class="st">&quot;PC2 Forces&quot;</span>, <span class="dt">name2=</span><span class="st">&quot;PV2 Closed&quot;</span>) %&gt;%
<span class="kw">addLatent</span>(., <span class="dt">at=</span><span class="dv">6</span>, <span class="dt">mttf=</span><span class="dv">100</span>, <span class="dt">mttr=</span><span class="dv">8</span>/<span class="dv">8760</span>, <span class="dt">pzero=</span><span class="st">&quot;repair&quot;</span>, <span class="dt">inspect=</span><span class="dv">1</span>,
<span class="dt">name=</span><span class="st">&quot;PT2&quot;</span>, <span class="dt">name2=</span><span class="st">&quot;Fails Low&quot;</span>) %&gt;%
<span class="kw">addActive</span>(., <span class="dt">at=</span><span class="dv">7</span>, <span class="dt">mttf=</span><span class="dv">25</span>, <span class="dt">mttr=</span><span class="dv">8</span>/<span class="dv">8760</span>, <span class="dt">name=</span><span class="st">&quot;PV1&quot;</span>, <span class="dt">name2=</span><span class="st">&quot;Fails Open&quot;</span>) %&gt;%
<span class="kw">addActive</span> (., <span class="dt">at=</span><span class="dv">7</span>, <span class="dt">mttf=</span><span class="dv">100</span>, <span class="dt">mttr=</span><span class="dv">8</span>/<span class="dv">8760</span>, <span class="dt">name=</span><span class="st">&quot;PC1 Forces&quot;</span>, <span class="dt">name2=</span><span class="st">&quot;PV1 Open&quot;</span>) %&gt;%
<span class="kw">addActive</span> (., <span class="dt">at=</span><span class="dv">7</span>, <span class="dt">mttf=</span><span class="dv">100</span>, <span class="dt">mttr=</span><span class="dv">8</span>/<span class="dv">8760</span>, <span class="dt">name=</span><span class="st">&quot;PT1&quot;</span>, <span class="dt">name2=</span><span class="st">&quot;Fails Low&quot;</span>) %&gt;%
<span class="kw">ftree.calc</span>(.)
 
<span class="kw">ftree2html</span>(surge3, <span class="dt">write_file=</span><span class="ot">TRUE</span>)</code></pre></div>
<pre><code>##    ID Parent Type           CFR           PBF           CRT Cond
## 1   1     -1   14  1.761798e-05 -1.000000e+00 -1.0000000000    0
## 2   2      1   10 -1.000000e+00  9.941916e-03 -1.0000000000    1
## 3   3      2    2  3.333333e-03  4.983375e-03 -1.0000000000    0
## 4   4      2    2  3.333333e-03  4.983375e-03 -1.0000000000    0
## 5   5      1   14  1.772091e-03  1.618368e-06  0.0009132545    0
## 6   6      5   10 -1.000000e+00  2.953486e-02  0.0009132545    1
## 7   7      5   10  6.000000e-02  5.479227e-05  0.0009132545    0
## 8   8      6    2  4.000000e-02  1.977179e-02  0.0009132420    0
## 9   9      6    2  1.000000e-02  4.992462e-03  0.0009132420    0
## 10 10      6    2  1.000000e-02  4.992462e-03  0.0009132420    0
## 11 11      7    1  4.000000e-02  3.652835e-05  0.0009132420    0
## 12 12      7    1  1.000000e-02  9.132337e-06  0.0009132420    0
## 13 13      7    1  1.000000e-02  9.132337e-06  0.0009132420    0
##                      Name                Name2
## 1              Surge Tank Overpressure Failure
## 2   Pressure Relief Fails to Open at Design Pt
## 3         Pressure Relief         set too high
## 4  Pressure Relief Unable to Open at Design Pt
## 5     Vent Control Failed      On Overpressure
## 6            Vent Control         Fails Closed
## 7          Supply Control           Fails Open
## 8                     PV2         Fails Closed
## 9              PC2 Forces           PV2 Closed
## 10                    PT2            Fails Low
## 11                    PV1           Fails Open
## 12             PC1 Forces             PV1 Open
## 13                    PT1            Fails Low</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">browseURL</span>(<span class="st">&quot;surge3.html&quot;</span>)</code></pre></div>
<p><img src="www/07-conditional_html.jpg" /> Although the reversibility of the vent controller failed state does not affect the quantification in this example, the repair information from this condition is now passed upward from gate 6. The graphic displays the repair rate information for the condition in darker font to provide a verification that the condition has been considered reversible. The fact that a failed condition for pressure relief valve is not reversible has precluded further use of the vent controller reversibility information in the top event of this example.</p>

</div>
            </section>

          </div>
        </div>
      </div>
<a href="latent-events.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"google": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": false
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/CarlesCG/FaulttReeTutoRial/edit/master/07-Conditional_sequence.Rmd",
"text": "Edit"
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    if (location.protocol !== "file:" && /^https?:/.test(script.src))
      script.src  = script.src.replace(/^https?:/, '');
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
